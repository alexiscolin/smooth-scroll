var SmoothScroll=function(a={}){this.DOM={},this.config={},this.move={},this.prlxItems=[],this.init(a)};SmoothScroll.prototype=function(){const a=function(o){o.preventDefault(),this.move.destY+=this.runFirefox&&1==o.deltaMode?o.deltaY*this.config.speed*this.config.multFirefox:o.deltaY*this.config.speed,g.call(this)},b=function(o){o.preventDefault(),this.move.destY+=o.wheelDeltaY?-1*o.wheelDeltaY:o.wheelDelta,g.call(this)},c=function(o){const p=o.targetTouches?o.targetTouches[0]:o;this.move.touchY=p.pageY},d=function(o){o.preventDefault();const p=o.targetTouches?o.targetTouches[0]:o;this.move.destY+=(p.pageY-this.move.touchY)*this.config.touchSpeed,this.move.touchY=p.pageY,g.call(this)},f=function(o){(38===o.keyCode||40===o.keyCode)&&o.preventDefault(),this.move.destY+=38===o.keyCode?-this.config.jump:40===o.keyCode?this.config.jump:0,g.call(this)},g=function(){this.config.ticking||(this.rAF=requestAnimationFrame(h.bind(this)),this.config.ticking=!0)},h=function(){if(this.rAF=requestAnimationFrame(h.bind(this)),this.move.destY=Math.round(Math.max(0,Math.min(this.move.destY,this.config.scrollMax))),this.move.prevY!==this.move.destY){this.move.currentY+=(this.move.destY-this.move.currentY)*this.config.delay;const o=-this.move.currentY.toFixed(2);this.DOM.scroller.style.transform=`translate3D(0,${o}px, 0)`,this.prlxItems&&this.prlxItems.update(o),this.move.prevY=Math.round(this.move.currentY)}else this.config.ticking=!1,cancelAnimationFrame(this.rAF)},i=function(o='bind'){const p='bind'===o?'addEventListener':'unbind'===o?'removeEventListener':null;if(null===p)throw'_domEvent function - wrong method! expect \'on\' || \'off\' : got '+o;this.deviceHasEvents.wheel&&document[p]('wheel',a.bind(this),!1),this.deviceHasEvents.mouseWheel&&document[p]('mousewheel',b.bind(this),!1),this.deviceHasEvents.keys&&document[p]('keydown',f.bind(this),!1),this.deviceHasEvents.touch&&(document[p]('touchstart',c.bind(this)),document[p]('touchmove',d.bind(this)))},j=function(){return{wheel:'onwheel'in document,mouseWheel:'onmousewheel'in document,touch:'ontouchstart'in document,keys:'onkeydown'in document}},l=function(){i.call(this,'bind')},n=function(){this.config.scrollMax=this.DOM.scroller.offsetHeight-(document.documentElement.clientHeight||window.innerHeight)};return{init:function(o){this.runFirefox=-1<navigator.userAgent.indexOf('Firefox'),this.deviceHasEvents=j(),this.DOM.body=document.body,this.DOM.scroller=document.getElementById('main-container'),this.config={delay:o.delay||.1,speed:o.speed||1,touchSpeed:o.touchSpeed||1.5,jump:o.jump||110,parallax:o.parallax||!1,multFirefox:15,scrollMax:0,ticking:!1},this.move={currentY:0,destY:0,prevY:0,touchY:0},this.rAF=void 0,this.prlxItems=this.config.parallax?new Parallax:null,l.call(this),n.call(this)},resize:n,bindEvent:l,unbindEvent:function(){i.call(this,'unbind'),'undefined'!=typeof this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null)}}}();export{SmoothScroll};
